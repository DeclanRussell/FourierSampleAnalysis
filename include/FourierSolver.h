#ifndef FOURIERSOLVER_H
#define FOURIERSOLVER_H

//----------------------------------------------------------------------------------------------------------------------
/// @file FourierSolver.h
/// @class FourierSolver
/// @author Declan Russell
/// @date 16/12/2015
/// @version 1.0
/// @brief Class for performing fourier analysis on samples. This app will create a power spectrum image and possibly
/// @brief the radial mean of our power spectrum.
//----------------------------------------------------------------------------------------------------------------------

#include <QString>
#include <vector>
#include <QImage>

class FourierSolver
{
public:
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief default ctor
    //----------------------------------------------------------------------------------------------------------------------
    FourierSolver();
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief defaut dtor
    //----------------------------------------------------------------------------------------------------------------------
    ~FourierSolver(){}
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief imports 2D points from file
    //----------------------------------------------------------------------------------------------------------------------
    void import2DFromFile(QString _dir);
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief analysis our points to create our power spectrum
    //----------------------------------------------------------------------------------------------------------------------
    void analysePoints();
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief returns our 2D image of our power spectrum
    //----------------------------------------------------------------------------------------------------------------------
    inline QImage getPSImage(){return m_psImage;}
    //----------------------------------------------------------------------------------------------------------------------
private:
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief simple structure to represent 2D points
    //----------------------------------------------------------------------------------------------------------------------
    struct float2
    {
        float x;
        float y;
    };
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief array of our 2D points
    //----------------------------------------------------------------------------------------------------------------------
    std::vector<float2> m_2DPoints;
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief our power spectrum image
    //----------------------------------------------------------------------------------------------------------------------
    QImage m_psImage;
    //----------------------------------------------------------------------------------------------------------------------
};

#endif // FOURIERSOLVER_H
